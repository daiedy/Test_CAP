<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Product Catalog - Mock Mode</title>

    <style>
        html, body, body > div, #container, #container-uiarea {
            height: 100%;
        }
    </style>

    <script>
        window["sap-ushell-config"] = {
            defaultRenderer: "fiori2",
            renderers: {
                fiori2: {
                    componentData: {
                        config: {
                            enableSearch: false
                        }
                    }
                }
            },
            services: {
                "ClientSideTargetResolution": {
                    "adapter": {
                        "config": {
                            "inbounds": {
                                "products-display": {
                                    "semanticObject": "products",
                                    "action": "display",
                                    "title": "Product Catalog",
                                    "signature": {
                                        "parameters": {},
                                        "additionalParameters": "allowed"
                                    },
                                    "resolutionResult": {
                                        "applicationType": "SAPUI5",
                                        "additionalInformation": "SAPUI5.Component=products",
                                        "url": "/products/webapp"
                                    }
                                }
                            }
                        }
                    }
                },
                "NavTargetResolution": {
                    "config": {
                        "enableClientSideTargetResolution": true
                    }
                }
            }
        };
    </script>

    <script src="https://ui5.sap.com/test-resources/sap/ushell/bootstrap/sandbox.js"></script>
    <script
        src="https://ui5.sap.com/resources/sap-ui-core.js"
        data-sap-ui-libs="sap.m, sap.ushell, sap.fe.templates"
        data-sap-ui-compatVersion="edge"
        data-sap-ui-theme="sap_horizon"
        data-sap-ui-frameOptions="allow"
        data-sap-ui-async="true"
        data-sap-ui-resourceroots='{"products": "../"}'
    ></script>

    <script>
        sap.ui.getCore().attachInit(function () {
            // Initialize mock server first
            sap.ui.require([
                "products/test/initMockServer"
            ], function () {
                // Mock server is now initialized, start the app
                sap.ushell.Container.createRenderer(null, true).then(function (renderer) {
                    renderer.placeAt("content");

                    // Navigate to the app if no hash is present
                    if (!globalThis.location.hash || globalThis.location.hash === "#" || globalThis.location.hash === "#Shell-home") {
                        globalThis.location.hash = "#products-display";
                    }
                });
            });
        });
    </script>
</head>

<body class="sapUiBody" id="content">
</body>

</html>
